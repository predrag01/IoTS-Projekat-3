<!DOCTYPE html>
<html>
<head>
  <title>MQTT WebSocket Service</title>
  <style>
    body {
      font-family: Arial, sans-serif;
    }
    #messages {
      max-width: 600px;
      margin: 20px auto;
      padding: 10px;
      border: 1px solid #ddd;
    }
    .message {
      margin-bottom: 10px;
      padding: 10px;
      border: 1px solid #ccc;
      background: #f9f9f9;
    }
  </style>
</head>
<body>
  <h1>MQTT WebSocket Service</h1>
  <div id="messages"></div>

  <script>
    const messagesDiv = document.getElementById('messages');
    const ws = new WebSocket('ws://localhost:8080');

    ws.onmessage = function(event) {
      const data = JSON.parse(event.data);
      const messageElement = document.createElement('div');
      messageElement.className = 'message';

      // Format the message content
      const content = `
        <strong>Topic:</strong> ${data.topic}<br>
        <strong>Station Name:</strong> ${data.StationName}<br>
        <strong>Measurement Timestamp:</strong> ${data.MeasurementTimestamp}<br>
        <strong>Air Temperature:</strong> ${data.AirTemperature}<br>
        <strong>Wet Bulb Temperature:</strong> ${data.WetBulbTemperature}<br>
        <strong>Humidity:</strong> ${data.Humidity}<br>
        <strong>Rain Intensity:</strong> ${data.RainIntensity}<br>
        <strong>Interval Rain:</strong> ${data.IntervalRain}<br>
        <strong>Total Rain:</strong> ${data.TotalRain}<br>
        <strong>Precipitation Type:</strong> ${data.PrecipitationType}<br>
        <strong>Wind Direction:</strong> ${data.WindDirection}<br>
        <strong>Wind Speed:</strong> ${data.WindSpeed}<br>
        <strong>Maximum Wind Speed:</strong> ${data.MaximumWindSpeed}<br>
        <strong>Biometric Pressure:</strong> ${data.BiometricPressure}<br>
        <strong>Solar Radiation:</strong> ${data.SolarRadiation}<br>
        <strong>Heading:</strong> ${data.Heading}<br>
        <strong>Battery Life:</strong> ${data.BatteryLife}<br>
        <strong>Measurement Timestamp Label:</strong> ${data.MeasurementTimestampLabel}<br>
        <strong>Measurement ID:</strong> ${data.MeasurementId}<br>
        <strong>Timestamp:</strong> ${data.timestamp}
      `;

      messageElement.innerHTML = content;
      messagesDiv.appendChild(messageElement);
    };

    ws.onerror = function(event) {
      console.error('WebSocket error:', event);
    };
  </script>
</body>
</html>
